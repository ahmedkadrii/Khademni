<div class="background-container">
    <img src="../../assets/img/wave.png" class="wave-image" alt="Wave Background">
  </div>
  <div class="register-container">
    <img src="../../assets/img/avatar.svg" class="avatar" alt="Avatar">
    <h2>Enterprise Sign Up</h2>
    <form [formGroup]="enterpriseForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
      <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
        {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="alert alert-success" role="alert" [innerHTML]="formatMessage(successMessage)">
        {{ successMessage }}
      </div>
      <div *ngIf="isLoading" class="small-loader">
        <img src="../../assets/blacklogosvg.svg" alt="Loading..." class="preloader-animation">
      </div>
  
      <!-- Step 1: Basic Information for Enterprise -->
      <div *ngIf="step === 1" class="register-form" [@slideInOut]>
        <h3>Create your enterprise account now üè¢</h3>
        <div class="form-group">
          <label for="username" class="form-label">Username:</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-user"></i></span>
            </div>
            <input type="text" id="username" formControlName="username" class="form-control" required>
            <div *ngIf="enterpriseForm.get('username')?.invalid && (enterpriseForm.get('username')?.touched || enterpriseForm.get('username')?.dirty)" class="invalid-feedback">
              <div *ngIf="enterpriseForm.get('username')?.errors?.['required']">Username is required.</div>
              <div *ngIf="enterpriseForm.get('username')?.errors?.['minlength']">Username must be at least 4 characters long.</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="email" class="form-label">Email:</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-envelope"></i></span>
            </div>
            <input type="email" id="email" formControlName="email" class="form-control" required>
            <div *ngIf="enterpriseForm.get('email')?.invalid && (enterpriseForm.get('email')?.touched || enterpriseForm.get('email')?.dirty)" class="invalid-feedback">
              <div *ngIf="enterpriseForm.get('email')?.errors?.['required']">Email is required.</div>
              <div *ngIf="enterpriseForm.get('email')?.errors?.['email']">Invalid email format.</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="password" class="form-label">Password:</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-lock"></i></span>
            </div>
            <input type="password" id="password" formControlName="password" class="form-control" required>
            <div *ngIf="enterpriseForm.get('password')?.invalid && (enterpriseForm.get('password')?.touched || enterpriseForm.get('password')?.dirty)" class="invalid-feedback">
              <div *ngIf="enterpriseForm.get('password')?.errors?.['required']">Password is required.</div>
              <div *ngIf="enterpriseForm.get('password')?.errors?.['minlength']">Password must be at least 4 characters long.</div>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-block" (click)="nextStep()">Next</button>
      </div>
  
      <!-- Step 2: Additional Information for Enterprise -->
      <div *ngIf="step === 2" class="register-form" [@slideInOut]>
        <h3>Tell us more about your enterprise</h3>
        <div class="form-group">
          <label for="name" class="form-label">Company Name:</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-id-card"></i></span>
            </div>
            <input type="text" id="name" formControlName="name" class="form-control" required>
          </div>
        </div>
        <div class="form-group">
          <label for="address" class="form-label">Address:</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-home"></i></span>
            </div>
            <input type="text" id="address" formControlName="address" class="form-control">
          </div>
        </div>
        <div class="form-group">
          <label for="bio" class="form-label">Bio:</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text"><i class="fas fa-info-circle"></i></span>
            </div>
            <input type="text" id="bio" formControlName="bio" class="form-control">
          </div>
        </div>
        <div class="form-group">
            <label for="businessDocument" class="form-label">Upload Business Registration Document</label>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-file-upload"></i></span>
              </div>
              <div class="custom-file">
                <input type="file" class="custom-file-input" id="businessDocument" (change)="onFileSelected($event)" required>
                <label class="custom-file-label" for="businessDocument">Choose file</label>
              </div>
            </div>
          </div>
                  <button type="submit" class="btn btn-block" (click)="showLoader()">Register</button>
        <button type="button" class="btn btn-block btn-secondary" (click)="prevStep()">Previous</button>
      </div>
      
      <div class="tos">
        By signing up you agree to our <a href="/tos">Terms of Service</a> and our <a href="/privacy-policy">Privacy Policy.</a>
      </div>
    </form>
    <div class="register-link">
      Already have an account? <a href="/login">Login</a>
    </div>
  </div>
  